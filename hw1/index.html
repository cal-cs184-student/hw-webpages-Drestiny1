<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 1 Write-Up</h1>
		<div style="text-align: center;">Names: Nicole Jin</div>

		<br>

		Link to webpage: <a href="https://drestiny1.github.io/cal-cs184-student/">drestiny1.github.io/cal-cs184-student/</a>
		
		<br>

		Link to GitHub repository: <a href="https://github.com/cal-cs184-student/hw1-rasterizer-23">github.com/cal-cs184-student/hw1-rasterizer-23</a>

		<figure>
			<img src="lion.jpg" alt="Lion" style="width:50%"/>
			<figcaption>You can add images with captions!</figcaption>
		</figure>

		<!--
		We've already added one heading per task, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		In this homework, I learned how to rasterize images. In particular, I learned about drawing triangle, supersampling, transformations, barycentric coordinates, pixel sampling, and level sampling. These techniques are important for producing smooth and accurate rendered images and form the foundation of modern rasterization systems.
		<h2>Task 1: Drawing Single-Color Triangles</h2>
		To rasterize triangles, first we calculate the x min, x max, y min, and y max. This is so we don't have to overcheck anything. Then we iterate through this box, check if each point is within all three border lines and color it if so. 

		<p>Here is an example of what a rasterized triangle looks like. If you zoom in, you can see that some of the edges are jagged.</p>
		<figure>
			<img src="task1.png" alt="task1" style="width:50%"/>
			<figcaption>Screenshot of basic/task4.svg</figcaption>
		</figure>

		<!-- <div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="task1.jpg" width="400px"/>
				  <figcaption>Screenshot of basic/task4.svg</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
			  </tr>
			</table>
		</div> -->
		
		<h2>Task 2: Antialiasing by Supersampling</h2>
		Antialiasing by supersampling is a method to reduce jagged edges by sampling multiple points within each pixel. This helps blend the edges. We use sample buffer to store multiple subsamples per pixel, resolve_to_framebuffer() to average them, and finally, the result is stored in framebuffer.
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="task2-1.png" width="400px"/>
				  <figcaption>Sample rate of 1</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="task2-4.png" width="400px"/>
				  <figcaption>Sample rate of 4</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="task2-16.png" width="400px"/>
				  <figcaption>Sample rate of 16</figcaption>
				</td>
			  </tr>
			</table>
		</div>
		As you can see, as the sample rate increases, the edges get smoother.

		<h2>Task 3: Transforms</h2>
		Demoing rotatation, scaling, and translation of blocks.
		<figure>
			<img src="task3.png" alt="task3" style="width:50%"/>
			<figcaption>robot waving</figcaption>
		</figure>

		<h2>Task 4: Barycentric coordinates</h2>
		Barycentric coordinates are a way to color a triangle where each of the three vertices has its own color, and the color of any point inside the triangle is computed as a weighted combination of the vertex colors. The weights correspond to how close the point is to each vertex and always sum to 1. The color at each point is computed by c0 * w0 + c1 * w1 + c2 * w2 where c0, c1, c2 are the colors and w0, w1, w2 are the weights.
		<figure>
			<img src="task4-1.png" alt="task3" style="width:50%"/>
			<figcaption>Example of Barycentric coordinates on a triangle</figcaption>
		</figure>
		<figure>
			<img src="task4.png" alt="task3" style="width:50%"/>
			<figcaption>Screenshot of basic/task7.svg</figcaption>
		</figure>
		<h2>Task 5: "Pixel sampling" for texture mapping</h2>
		Pixel sampling is the process of determining the color of a screen pixel by looking up a color from a texture map using texture coordinates. First, barycentric coordinates are computed for each sample inside a triangle and used to interpolate the texture coordinates (u,v) from the triangle vertices. These texture coordinates are then used to sample a color from the texture image.
	<br><br>Two pixel sampling methods were implemented: nearest sampling and bilinear sampling. The nearest sampling method selects the texel whose center is closest to the texture coordinate, which is simple and fast but can produce jagged or blocky results. The bilinear sampling method computes a weighted average of the four texels surrounding the texture coordinate, producing smoother and less aliased results. In general, nearest sampling looks more pixelated while bilinear sampling produces smoother textures.

		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="task5-1.png" width="400px"/>
				  <figcaption>Nearest Pixel Sample with Sample Rate 1</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="task5-2.png" width="400px"/>
				  <figcaption>Nearest Pixel Sample with Sample Rate 16</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="task5-3.png" width="400px"/>
				  <figcaption>Bilinear Pixel Interpolation with Sample Rate 1</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="task5-4.png" width="400px"/>
				  <figcaption>Bilinear Pixel Interpolation with Sample Rate 16</figcaption>
				</td>
			  </tr>
			</table>
		</div>

		<h2>Task 6: "Level Sampling" with mipmaps for texture mapping</h2>
		Level sampling is the process of selecting the appropriate mipmap level when determining the color of a pixel from a texture. Depending on the viewing angle and distance, a single screen pixel may correspond to a large area of the texture, which can cause noise or shimmering if only the full-resolution texture is used. Level sampling reduces aliasing by choosing a mipmap level that better matches the size of a pixel on the screen.
		<br><br>
		To implement level sampling, first compute texture cordinates at each sample using barycentric interpolation. Then I computed the neighboring texture coordinates to see how fast the texture changes.
		<br><br>
		There are different benefits and tradeoffs between pixel sampling methods, level sampling methods, and sample rate. For pixel sampling, nearest sampling is faster than bilinear sampling, but bilinear sampling produces smoother textures. For level sampling, L_ZERO is the fastest but produces more aliasing. L_NEAREST is slower but reduces aliasing, and L_LINEAR is slower still but produces the smoothest results. For sample rate, low sample rates are faster but produce more jagged edges and aliasing, while higher sample rates smooth edges but require more computation and memory.
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="task6-1.png" width="400px"/>
				  <figcaption>L_Zero and P_Nearest with Sample Rate 1</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="task6-2.png" width="400px"/>
				  <figcaption>L_Zero and P_Linear with Sample Rate 1</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="task6-3.png" width="400px"/>
				  <figcaption>L_Nearest and P_Nearest with Sample Rate 1</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="task6-4.png" width="400px"/>
				  <figcaption>L_Nearest and P_Linear with Sample Rate 1</figcaption>
				</td>
			  </tr>
			</table>
		</div>
	</body>
</html>